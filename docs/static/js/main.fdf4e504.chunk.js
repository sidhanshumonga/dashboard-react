(this["webpackJsonpdashboard-react"]=this["webpackJsonpdashboard-react"]||[]).push([[0],{100:function(e,t,a){e.exports=a(119)},105:function(e,t,a){},106:function(e,t,a){},111:function(e,t,a){},113:function(e,t,a){},115:function(e,t,a){},119:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(15),o=a.n(c),l=(a(105),a(106),a(159)),i=a(162),s=a(164),u=a(90),m=a(165),d=Object(l.a)((function(e){return{root:{flexGrow:1},topPanel:{backgroundColor:"#1976d2"},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1}}}));function f(){var e=d();return r.a.createElement("div",{className:e.root},r.a.createElement(i.a,{position:"static",className:e.topPanel},r.a.createElement(s.a,null,r.a.createElement(m.a,{edge:"start",className:e.menuButton,"aria-label":"menu"}),r.a.createElement(u.a,{variant:"h6",className:e.title},"INTERACTIVE DASHBOARD"))))}var p=a(63),E=a(38),h=a.n(E),v=a(8),b=a(59),g=a(168),O=a(84),j=a(177),y=a(171),S=(a(111),a(176)),w=a(179),x=a(170),k=a(182),N=a(173),C=a(174),I=a(172),D=a(180),A=a(175),M=a(50),P=a.n(M),Y=a(78),B=a(17),T=a(178),G=a(166),R=a(79),W=a.n(R),F=a(80),z=a.n(F),J=a(184),L=(a(113),Object(l.a)({root:{height:350,flexGrow:1,maxWidth:400},selected:{content:{background:"blue"}}}));function _(e){var t=L(),a=r.a.useState({}),n=Object(v.a)(a,2),c=(n[0],n[1]);return r.a.createElement(G.a,{className:t.root,defaultCollapseIcon:r.a.createElement(W.a,null),defaultExpanded:["root"],defaultExpandIcon:r.a.createElement(z.a,null)},function e(t,a,n){return r.a.createElement(J.a,{key:t.id,nodeId:t.id,label:t.name,onLabelClick:function(e){return a(e,t)},classes:{selected:n.selected}},Array.isArray(t.children)?t.children.map((function(t){return e(t,a,n)})):null)}(e.tree,(function(t,a){t.preventDefault(),c(a),e.onSelect(a)}),t))}var H=a(167),K=a(24),U=a(18),V=a(34),$=a(87),q=(a(115),function(e){Object(V.a)(a,e);var t=Object($.a)(a);function a(){return Object(K.a)(this,a),t.apply(this,arguments)}return Object(U.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"dot dot-1"}),r.a.createElement("div",{className:"dot dot-2"}),r.a.createElement("div",{className:"dot dot-3"}),r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1"},r.a.createElement("defs",null,r.a.createElement("filter",{id:"goo"},r.a.createElement("feGaussianBlur",{in:"SourceGraphic",stdDeviation:"10",result:"blur"}),r.a.createElement("feColorMatrix",{in:"blur",mode:"matrix",values:"1 0 0 0 0  0 1 0 0 0  0 0 1 0 0  0 0 0 21 -7"})))))}}]),a}(r.a.Component)),Q=a(81),X=a.n(Q),Z=a(82),ee=a.n(Z),te=r.a.createElement(X.a,{fontSize:"small"}),ae=r.a.createElement(ee.a,{fontSize:"small"});function ne(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return new Promise((function(t){setTimeout(t,e)}))}var re=r.a.forwardRef((function(e,t){return r.a.createElement(H.a,Object.assign({direction:"up",ref:t},e))}));function ce(){return(ce=Object(b.a)(h.a.mark((function e(t){var a,n,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)},e.next=3,fetch("https://who.aeturn.dev/api/v1.0/search",a);case 3:return n=e.sent,e.next=6,n.json();case 6:r=e.sent,console.log(r);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function oe(){var e=r.a.useState(),t=Object(v.a)(e,2),a=t[0],n=t[1],c=r.a.useState({}),o=Object(v.a)(c,2),l=o[0],i=o[1],s=r.a.useState([]),u=Object(v.a)(s,2),m=u[0],d=u[1],f=r.a.useState(!1),E=Object(v.a)(f,2),M=E[0],G=E[1],R=r.a.useState([]),W=Object(v.a)(R,2),F=W[0],z=W[1],J=M&&0===F.length,L=r.a.useState(!1),H=Object(v.a)(L,2),K=H[0],U=H[1],V=r.a.useState("location"),$=Object(v.a)(V,2),Q=$[0],X=$[1],Z=r.a.useState(!1),ee=Object(v.a)(Z,2),oe=ee[0],le=ee[1],ie=r.a.useState({}),se=Object(v.a)(ie,2),ue=se[0],me=se[1],de=function(e){e&&n(e),U(!1)},fe=function(e){U(!0),X(e)},pe=function(){i(""),U(!1)},Ee=function(){le(!0),function(e){ce.apply(this,arguments)}({date:P()(a).format("DD-MM-YYYY"),orgunit_name:l.name,orgunit_id:l.id,indicators:m.map((function(e){return e.name}))})};return r.a.useEffect((function(){var e=!0;if(J)return Object(b.a)(h.a.mark((function t(){var a,n;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://who.aeturn.dev/api/v1.0/indicator");case 2:return a=t.sent,t.next=5,ne(1e3);case 5:return t.next=7,a.json();case 7:n=t.sent,e&&z(n.indicators);case 9:case"end":return t.stop()}}),t)})))(),function(){e=!1}}),[J]),r.a.useEffect((function(){M||z([])}),[M]),r.a.useEffect((function(){Object(b.a)(h.a.mark((function e(){var t,a,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://who.aeturn.dev/api/v1.0/orgunit");case 2:return t=e.sent,e.next=5,t.json();case 5:a=e.sent,n=a.organisationUnits[0],me(n);case 8:case"end":return e.stop()}}),e)})))()}),[]),r.a.createElement("div",null,r.a.createElement(g.a,{className:"justify-content-center align-items-center"},r.a.createElement(O.a,{className:"col-6 mt-5"},r.a.createElement(j.a,null,r.a.createElement(w.a,{id:"asynchronous-demo",multiple:!0,freeSolo:!0,open:M,onOpen:function(){G(!0)},onClose:function(){G(!1)},getOptionSelected:function(e,t){return e.name===t.name},getOptionLabel:function(e){return e.name},options:F,disableCloseOnSelect:!0,loading:J,onChange:function(e,t){return function(e){d(e)}(t)},renderOption:function(e,t){var a=t.selected;return r.a.createElement(r.a.Fragment,null,r.a.createElement(D.a,{icon:te,checkedIcon:ae,style:{marginRight:8},checked:a}),e.name)},renderInput:function(e){return r.a.createElement(S.a,Object.assign({},e,{label:"Search Indicators",variant:"outlined",InputProps:Object(p.a)(Object(p.a)({},e.InputProps),{},{endAdornment:r.a.createElement(r.a.Fragment,null,J?r.a.createElement(x.a,{color:"inherit",size:20}):null,e.InputProps.endAdornment)})}))}})))),r.a.createElement(g.a,{className:"justify-content-center"},r.a.createElement(O.a,{className:"col-4 mt-3 text-left"},r.a.createElement(y.a,{variant:"contained",className:"mr-2"+(l.name?" btn-checked":""),onClick:function(){return fe("location")}},r.a.createElement("i",{className:"material-icons"},l?"check":"add"),l.name?l.name:"Select location"),r.a.createElement(y.a,{variant:"contained",className:"mx-2"+(a?" btn-checked":""),onClick:function(){return fe("date")}},r.a.createElement("i",{className:"material-icons"},a?"check":"add"),a?P()(a).format("MMM DD, YYYY"):"Select date")),r.a.createElement(O.a,{className:"col-2 text-right mt-3"},r.a.createElement(y.a,{variant:"contained",className:"btn-primary",onClick:function(){return Ee()}},"Done"))),r.a.createElement(k.a,{open:K&&"location"===Q,onClose:pe,fullWidth:!0,maxWidth:"sm",TransitionComponent:re,scroll:"paper","aria-labelledby":"scroll-dialog-title","aria-describedby":"scroll-dialog-description"},r.a.createElement(I.a,{id:"scroll-dialog-title"},"location"===Q?"Select location":"Select Date"),r.a.createElement(N.a,{dividers:!0},r.a.createElement(C.a,{id:"scroll-dialog-description",tabIndex:-1},r.a.createElement(_,{onSelect:function(e){i(e)},tree:ue}))),r.a.createElement(A.a,null,r.a.createElement(y.a,{onClick:pe,color:"primary"},"Cancel"),r.a.createElement(y.a,{onClick:function(){U(!1)},color:"primary"},"Save"))),r.a.createElement(B.a,{utils:Y.a},r.a.createElement(T.a,{margin:"normal",disableFuture:!0,id:"date-picker-dialog",label:"Date picker dialog",format:"MM/dd/yyyy",value:a,onChange:de,onClose:de,KeyboardButtonProps:{"aria-label":"change date"},open:K&&"date"===Q,TextFieldComponent:function(){return null}})),r.a.createElement(g.a,{className:"justify-content-center mt-5"},r.a.createElement(O.a,{className:"col-10 charts-container"},oe?r.a.createElement(q,{className:"loader-div"}):null)))}var le=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(f,null),r.a.createElement(oe,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(118);o.a.render(r.a.createElement(le,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[100,1,2]]]);
//# sourceMappingURL=main.fdf4e504.chunk.js.map